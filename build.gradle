plugins {
	id 'java'
	id 'application'
}

repositories {
    jcenter()
    mavenCentral()
}

version = '0.5.0'
def vertxVersion = '3.8.5'
def commonsLangVersion = '3.9'
def commonsCodecVersion = '1.14'
def slf4jVersion = '1.7.+'
def zxingVersion = '3.4.0'
sourceCompatibility = '1.8'

dependencies {
    compile "io.vertx:vertx-core:${vertxVersion}"
    compile "io.vertx:vertx-web:${vertxVersion}"
    compile "io.vertx:vertx-web-api-contract:${vertxVersion}"
    compile "org.apache.commons:commons-lang3:${commonsLangVersion}"
    compile "commons-codec:commons-codec:${commonsCodecVersion}"
    compile "org.slf4j:slf4j-api:${slf4jVersion}"
    compile "org.slf4j:slf4j-simple:${slf4jVersion}"
    compile "com.google.zxing:core:${zxingVersion}"
    compile "com.google.zxing:javase:${zxingVersion}"

    testImplementation "junit:junit:4.13"
}

mainClassName = 'com.josephcday.totp.TOTPVerticle'

jar {
    destinationDir = file("$rootDir/dist")
    manifest {
        attributes "Main-Class": "com.josephcday.totp.TOTPVerticle"
    }
 
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}
